<div class="m-boardtop clearfix">
  <iq-breadcrumb></iq-breadcrumb>
  <button type="button" class="m-btn-success g-fr" style="margin-top: 7px;" (click)="addData()">
    <i class="iqon-add"></i>新建供应商</button>
</div>

<div class="m-overclass">
  <div class="m-list-menu">
    <ul class="m-state" (click)="onTab($event)">
      <li class="active" data-state="myExamine">待我审批</li>
      <li data-state="endExamine">我已审批</li>
      <li data-state="sFinish">全部</li>
    </ul>

    <!-- 高级搜索 -->
    <div class="m-search-all" [ngClass]="{'hide': highSearchShow}">
      <div class="m-search-high" (click)="openSearch()">
        <i class="iqon-highsearch"></i>
        高级搜索
      </div>
    </div>

    <div class="m-search-open" [ngClass]="{'hide': !highSearchShow}" (click)="closeSearch()">
      收起高级搜索
    </div>
    <div class="m-search-more" [ngClass]="{'hide': !highSearchShow}">
      <form #form="ngForm">

        <div class="m-search-item">
          <label>本部</label>
          <input type="text" name="Platform" placeholder="-请填写本部" [(ngModel)]="queryMyApproval.BBMC">
        </div>

        <div class="m-search-item">
          <label>事业部</label>
          <input type="text" name="Factory" placeholder="-请填写事业部" [(ngModel)]="queryMyApproval.SYBMC">
        </div>

        <div class="m-search-item m-search-clear">
          <label>申请人</label>
          <input type="text" name="ApplyName" placeholder="-请填写申请人" [(ngModel)]="queryMyApproval.ApplyName">
        </div>

        <div class="m-search-item m-search-clear">
          <label>供应商名称</label>
          <input type="text" name="ApplyName" placeholder="-请填写供应商名称" [(ngModel)]="queryMyApproval.SearchTxt">
        </div>


        <div class="m-search-btn">
          <button type="button" class="m-btn-confirm research" (click)="search()">搜索</button>
          <button type="button" class="m-btn-default resets" (click)=reset()>重置</button>
        </div>
      </form>
    </div>


  </div>

  <!-- 物料数据缺省 -->
  <div class="m-noresult m-supplier-noresult m-apply" [ngClass]="{'hideStyle':isHide}">
    <div class="m-noresult-msg">
      <i class="iqon-query"></i>
      <p class="m-noresult-notice">暂无相关数据</p>
      <p class="m-p-notice">点击“新建供应商”新建数据吧~</p>
    </div>
  </div>

  <!-- 物料数据列表 -->
  <div class="m-card-cont" [ngClass]="{'hideStyle':!isHide}">
    <div class="table-auto-content">
      <table class="table table-hover table-list" style="table-layout:auto">
        <thead>
          <tr>
            <th class="wp10">序号</th>
            <th class="wp20">申请编号</th>
            <th class="wp20">申请单类型</th>
            <th class="wp20">供应商名称</th>
            <th class="wp15">申请人</th>
            <th class="wp15">申请时间</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let list of searchList;index as i">
            <td>{{(pagerData.pageNo-1)*pagerData.pageSize+i+1}}</td>
            <td><span (click)="getDetail(i,list.CopyLink)" class="clickText">{{list.ApplicationCode}}</span></td>
            <td>{{list.ApplicationType|supplierPipe:"approvalType"}}</td>
            <td>{{list.Vendor}}</td>
            <td style="width:200px; overflow:hidden; overflow: hidden; text-overflow:ellipsis; white-space: nowrap;">{{list.ApplyName}}</td>
            <td>{{list.ApplyTime|iqDate:"YYYY-MM-DD"}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="page">
      <iq-pager [data]="pagerData" (onChange)="onChangePager($event)"></iq-pager>
    </div>
  </div>
</div>